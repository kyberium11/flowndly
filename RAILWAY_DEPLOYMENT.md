# üöÄ Flowndly Railway Deployment Guide (FREE - No Credit Card)

## üìã Prerequisites

- [ ] GitHub account
- [ ] Railway account (free at [railway.app](https://railway.app))
- [ ] Your Flowndly code in GitHub repository

## üéØ Step-by-Step Railway Deployment

### Step 1: Sign Up for Railway

1. **Go to**: https://railway.app/
2. **Click "Start a New Project"**
3. **Sign in with GitHub**
4. **No credit card required!**

### Step 2: Deploy Your Repository

1. **Click "Deploy from GitHub repo"**
2. **Select your repository**: `kyberium11/flowndly`
3. **Railway will detect the `railway.toml` configuration**
4. **Click "Deploy"**

**Note**: The `railway.toml` file tells Railway to use the Dockerfile for building.

### Step 3: Add Required Services (IMPORTANT!)

Railway will automatically create:
- ‚úÖ **Web Service** (your main app)

**You MUST manually add these services:**

#### Add PostgreSQL Database:
1. **Click "New Service"** in your project
2. **Select "Database"** ‚Üí "PostgreSQL"
3. **Choose version 14** (recommended)
4. **Click "Deploy"**

#### Add Redis Cache:
1. **Click "New Service"** again
2. **Select "Database"** ‚Üí "Redis"
3. **Choose version 7.0** (recommended)
4. **Click "Deploy"**

**‚ö†Ô∏è IMPORTANT**: Railway does NOT automatically create Redis service. You MUST add it manually!

### Step 4: Configure Environment Variables

Go to your web service settings and add these variables:

**Required Variables:**
```bash
APP_ENV=production
APP_TITLE=Flowndly
TELEMETRY_ENABLED=false
PROTOCOL=https
PORT=3000
WORKER=false
```

**Database Variables (auto-generated by Railway):**
```bash
POSTGRES_HOST=${DATABASE_URL}
POSTGRES_DATABASE=railway
POSTGRES_USERNAME=postgres
POSTGRES_PASSWORD=${DATABASE_PASSWORD}
```

**Redis Variables (auto-generated by Railway):**
```bash
REDIS_HOST=${REDIS_URL}
REDIS_PORT=6379
```

**Important**: Railway automatically provides these variables when you add PostgreSQL and Redis services.

### Step 5: Generate Security Keys

Add these to your environment variables:
```bash
ENCRYPTION_KEY=your_generated_key_here
WEBHOOK_SECRET_KEY=your_generated_key_here
APP_SECRET_KEY=your_generated_key_here
```

**To generate keys, run this in PowerShell:**
```powershell
.\generate-keys-simple.ps1
```

### Step 6: Connect Services

1. **Go to your web service**
2. **Click "Variables" tab**
3. **Add the generated security keys**
4. **Railway will automatically connect the database services**

### Step 7: Deploy

1. **Click "Deploy"** on your web service
2. **Wait for build to complete**
3. **Check logs for any errors**
4. **Your app will be available at the provided URL**

## üîß Troubleshooting

### Redis Connection Issues

If you see Redis connection errors:

1. **Verify Redis service exists** in your Railway project
2. **Check environment variables** are properly set
3. **Restart the web service** after adding Redis
4. **Check logs** for connection details

### Database Connection Issues

If you see PostgreSQL connection errors:

1. **Verify PostgreSQL service exists** in your Railway project
2. **Check DATABASE_URL** is properly set
3. **Wait for database to fully initialize** (can take 1-2 minutes)

## üéâ Success!

Your Flowndly instance should now be running with:
- ‚úÖ Web application
- ‚úÖ PostgreSQL database
- ‚úÖ Redis cache
- ‚úÖ All security keys configured

**Default login**: `user@automatisch.io` / `sample`

## üìû Support

If you encounter issues:
1. **Check Railway logs** for error messages
2. **Verify all services are running**
3. **Ensure environment variables are set correctly**
4. **Restart services if needed**
